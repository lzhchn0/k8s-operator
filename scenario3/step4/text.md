# Build a framework of operator for redis-cluster


- Operator generated by kubebuilder

```shell
mkdir operator; cd operator
```{{exec}}

```shell
go clean -cache
go clean -modcache 
go mod tidy 
go build
```{{exec}}

```shell
k apply -f config/samples/rediscluster_v1_monitoring.yaml
```{{exec}}


```shell
kubebuilder init  --domain opencanon.io  --plugins=go/v4   --repo blabla.com
```{{exec}}

> kubebuilder 2.0.1, go 1.14
```shell
kubebuilder init   --domain opencanon.io   --repo blabla.com
```{{exec}}


```shell
kubebuilder create api \
  --kind Monitoring\
  --group rediscluster \
  --version v1 \
  --resource true \
  --controller true
```{{exec}}


```shell
make manifests
```{{exec}}



```shell
make install
```{{exec}}


```shell
make run
```{{exec}}



```shell
go get k8s.io/client-go/tools/remotecommand@v0.30.0
go get k8s.io/apimachinery/pkg/util/httpstream/spdy@v0.30.0
go get k8s.io/apimachinery/pkg/util/proxy@v0.30.0
go mod tidy
```{{exec}}
